

DevTools listening on ws://127.0.0.1:58318/devtools/browser/31d93079-4681-47e7-85fa-ab07d1fbfaea

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:        13.17.0                                                                        │
  │ Browser:        Electron 118 (headless)                                                        │
  │ Node Version:   v22.19.0 (C:\Program Files\nodejs\node.exe)                                    │
  │ Specs:          10 found (phase3-goals-achievements.cy.js, phase4-total-progress.cy.js, quick- │
  │                 function-coverage.cy.js, rapid-coverage-boost.cy.js, remaining-functions-cover │
  │                 age.cy.js, remaining-uncovered-functions.cy.js, reworked-tests.cy.js, schema-d │
  │                 atabase.cy.js, security...)                                                    │
  │ Searched:       C:\GitKraken\WeightlossTracker\cypress\e2e\passing\phase3-goals-achievements.c │
  │                 y.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\phase4-total-progress │
  │                 .cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\quick-function-cove │
  │                 rage.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\rapid-coverage- │
  │                 boost.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\remaining-func │
  │                 tions-coverage.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\remai │
  │                 ning-uncovered-functions.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\pas │
  │                 sing\reworked-tests.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\ │
  │                 schema-database.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\secu │
  │                 rity-comprehensive.cy.js, C:\GitKraken\WeightlossTracker\cypress\e2e\passing\s │
  │                 ettings-functionality.cy.js                                                    │
  │ Experiments:    experimentalMemoryManagement=true                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  phase3-goals-achievements.cy.js                                                (1 of 10)


  Phase 3: Goals & Achievements Tab - Complete Coverage
    1) "before all" hook for "should display correct streak statistics"


  0 passing (17s)
  1 failing

  1) Phase 3: Goals & Achievements Tab - Complete Coverage
       1. Consistency Score - Streak Counter
         "before all" hook for "should display correct streak statistics":
     AssertionError: Timed out retrying after 8000ms: Expected to find element: `#weightDate`, but never found it.

Because this error occurred during a `before all` hook we are skipping the remaining tests in the current suite: `Phase 3: Goals & Achievemen...`
      at eval (webpack://weightloss-tracker/./cypress/e2e/passing/phase3-goals-achievements.cy.js:98:15)
  at Array.forEach (<anonymous>)
      at Context.eval (webpack://weightloss-tracker/./cypress/e2e/passing/phase3-goals-achievements.cy.js:91:16)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        23                                                                               │
  │ Passing:      0                                                                                │
  │ Failing:      1                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      22                                                                               │
  │ Screenshots:  1                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     16 seconds                                                                       │
  │ Spec Ran:     phase3-goals-achievements.cy.js                                                  │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  C:\GitKraken\WeightlossTracker\cypress\screenshots\phase3-goals-achievements.cy.     (1280x720)
     js\Phase 3 Goals & Achievements Tab - Complete Coverage -- should display correc               
     t streak statistics -- before all hook (failed).png                                            


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  phase4-total-progress.cy.js                                                    (2 of 10)


  Phase 4: Total Progress Enhanced
    Total Progress Card Structure
      √ should display Total Progress card with correct structure (6656ms)
      √ should switch between tabs correctly (5787ms)
    Charts Tab
      √ should display Average Weekly Loss chart (4891ms)
      √ should display 6-Month Projection chart (4861ms)
      √ should display charts in full width (col-md-12) (4823ms)
    Stats Tab
      √ should display Goal Completion pie chart (5857ms)
      √ should display Ideal Weight Progress pie chart (5833ms)
      √ should display weight comparison stat (5878ms)
      1) should format weight comparison correctly
    Body Fat Tab
      √ should display Body Fat Trend chart or placeholder (5893ms)
      2) should show automatic calculation message
    Data Integration
      √ should use global dashboard data when available (5581ms)
      3) should refresh charts when new weight is added
    Weekly Loss Chart Specifics
      √ should show last 26 weeks of data (5903ms)
      √ should use week numbers (Week 1, Week 2, etc) (4949ms)
    Projection Chart Specifics
      √ should hide point circles (show only lines) (4933ms)
      √ should show two datasets: Actual and Projected (5034ms)
    Ideal Weight Calculation
      √ should show remaining weight to go, not achieved weight (5836ms)
    Responsive Layout
      √ should display Total Progress card as full width (col-md-12) (4937ms)
      √ should display both charts in full width within Charts tab (5028ms)
    Error Handling
      √ should handle missing goal data gracefully (6118ms)
      √ should handle empty body fat data gracefully (5115ms)


  19 passing (2m)
  3 failing

  1) Phase 4: Total Progress Enhanced
       Stats Tab
         should format weight comparison correctly:
     AssertionError: expected '0.0 kg, c\'est comme perdre 10 BÂTONNETS DE BEURRE 🧈' to match /\d+\.\d+\s+(kg|lbs),\s+that's like losing/i
      at Context.eval (webpack://weightloss-tracker/./cypress/e2e/passing/phase4-total-progress.cy.js:160:36)

  2) Phase 4: Total Progress Enhanced
       Body Fat Tab
         should show automatic calculation message:
     AssertionError: Timed out retrying after 8000ms: expected '<div.progress-tab-content.active>' to contain 'automatically calculated'
      at Context.eval (webpack://weightloss-tracker/./cypress/e2e/passing/phase4-total-progress.cy.js:181:65)

  3) Phase 4: Total Progress Enhanced
       Data Integration
         should refresh charts when new weight is added:
     CypressError: Timed out retrying after 8000ms: `cy.clear()` failed because this element is not visible:

`<input type="number" step="0.1" min="0" id="newWeight" class="form-control glass-input weight-input" placeholder="e.g. 70.5" data-eng="e.g. 75.5" data-spa="ej. 75.5" data-fre="ex. 75,5" data-ger="z.B. 75,5">`

This element `<input#newWeight.form-control.glass-input.weight-input>` is not visible because its parent `<div#add-entry-form.mb-4.hidden>` has CSS property: `display: none`

Fix this problem, or use `{force: true}` to disable error checking.

https://on.cypress.io/element-cannot-be-interacted-with
      at runVisibilityCheck (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:144957:58)
      at Object.isStrictlyVisible (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:144971:10)
      at runAllChecks (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:113271:26)
      at retryActionability (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:113339:16)
      at tryCatcher (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1830:23)
      at Promise.attempt.Promise.try (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:4338:29)
      at whenStable (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:143744:68)
      at <unknown> (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:143685:14)
      at tryCatcher (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1830:23)
      at Promise._settlePromiseFromHandler (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1542:31)
      at Promise._settlePromise (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1599:18)
      at Promise._settlePromise0 (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1644:10)
      at Promise._settlePromises (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1724:18)
      at Promise._fulfill (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:1668:18)
      at <unknown> (http://127.0.0.1:8111/__cypress/runner/cypress_runner.js:5473:46)
  From Your Spec Code:
      at Context.eval (webpack://weightloss-tracker/./cypress/e2e/passing/phase4-total-progress.cy.js:206:41)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        22                                                                               │
  │ Passing:      19                                                                               │
  │ Failing:      3                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  3                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     2 minutes, 20 seconds                                                            │
  │ Spec Ran:     phase4-total-progress.cy.js                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  C:\GitKraken\WeightlossTracker\cypress\screenshots\phase4-total-progress.cy.js\P     (1280x720)
     hase 4 Total Progress Enhanced -- Stats Tab -- should format weight comparison c               
     orrectly (failed).png                                                                          
  -  C:\GitKraken\WeightlossTracker\cypress\screenshots\phase4-total-progress.cy.js\P     (1280x720)
     hase 4 Total Progress Enhanced -- Body Fat Tab -- should show automatic calculat               
     ion message (failed).png                                                                       
  -  C:\GitKraken\WeightlossTracker\cypress\screenshots\phase4-total-progress.cy.js\P     (1280x720)
     hase 4 Total Progress Enhanced -- Data Integration -- should refresh charts when               
      new weight is added (failed).png                                                              


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  quick-function-coverage.cy.js                                                  (3 of 10)


  Quick Function Coverage for Remaining 3 Functions
    √ should test the 3 remaining uncovered functions directly (2517ms)
    √ should test health functions with various BMI scenarios (1944ms)
    √ should test resetSettings with various configurations (1472ms)


  3 passing (6s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        3                                                                                │
  │ Passing:      3                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     6 seconds                                                                        │
  │ Spec Ran:     quick-function-coverage.cy.js                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  rapid-coverage-boost.cy.js                                                     (4 of 10)


  Rapid Coverage Boost - Direct Function Testing
    Dashboard Functions Mass Testing
      √ should test ALL dashboard calculation functions (2592ms)
      √ should test all coverage and utility functions (2210ms)
      √ should trigger all form and UI interaction functions (3012ms)
    Error Handling and Edge Cases
      √ should test all validation and error handling functions (2234ms)


  4 passing (10s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      4                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     10 seconds                                                                       │
  │ Spec Ran:     rapid-coverage-boost.cy.js                                                       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  remaining-functions-coverage.cy.js                                             (5 of 10)


  Remaining Functions Comprehensive Coverage
    Index.js Authentication Functions
      √ should test remaining authentication and UI functions (2091ms)
    Data.js Management Functions
      √ should test remaining data management functions (1719ms)
    Settings.js Configuration Functions
      √ should test remaining settings functions (2015ms)
    Global Utility Functions
      √ should test remaining global utility functions (1757ms)


  4 passing (10s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      4                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     9 seconds                                                                        │
  │ Spec Ran:     remaining-functions-coverage.cy.js                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  remaining-uncovered-functions.cy.js                                            (6 of 10)


  Remaining Uncovered Functions Coverage
    √ should test getFattyLiverRisk() function with various BMI scenarios (6041ms)
    √ should test getHeartDiseaseRisk() function with various health scenarios (5304ms)
    √ should test resetSettings() function thoroughly (6748ms)
    √ should verify all three functions work together (5531ms)


  4 passing (25s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      4                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     24 seconds                                                                       │
  │ Spec Ran:     remaining-uncovered-functions.cy.js                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  reworked-tests.cy.js                                                           (7 of 10)


  Failing Tests
    √ should test dashboard initialization functions (3804ms)
    √ should test getHealthImprovementMessage() with negative changes (2276ms)
    √ should test refreshHealth() function with successful data (3902ms)
    √ should test health functions with server errors (4310ms)
    √ should test loadSettings() function with successful data (3971ms)
    √ should test updateDateExample() function with all date formats (2318ms)
    √ should test complete settings workflow (4014ms)
    √ should handle concurrent requests without breaking rate limiting (3650ms)
    √ should maintain performance under rate limit file operations (5693ms)
    √ should verify coverage logging is working (3586ms)
    √ should test cypress coverage commands (1940ms)
    √ should collect coverage data automatically (3602ms)
    √ should test modal functionality (3906ms)
    √ should verify coverage collection works (2867ms)
    √ should verify all module functions are loaded (4044ms)
    √ should trigger showAlert function (2930ms)
    √ should trigger parseJson function by making API call (2637ms)
    √ should load scripts directly and test functions (3248ms)
    √ should generate and log email with code in subject line (2268ms)


  19 passing (1m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        19                                                                               │
  │ Passing:      19                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     1 minute, 7 seconds                                                              │
  │ Spec Ran:     reworked-tests.cy.js                                                             │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  schema-database.cy.js                                                          (8 of 10)


  Schema and Database Management Tests
    Schema API Service Tests
      √ switches schemas via API calls (406ms)
      √ validates comprehensive schema switching API endpoints (915ms)
      √ rejects invalid schema names (78ms)
    Schema Switcher UI Tests
      √ loads the schema switcher page (6348ms)
      √ shows current schema status (5781ms)
      √ switches to wt_test schema via UI and validates functionality (6612ms)
      √ switches to wt_dev schema via UI and validates functionality (6555ms)
      √ switches to wt_live schema via UI and validates functionality (6311ms)


  8 passing (34s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        8                                                                                │
  │ Passing:      8                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     33 seconds                                                                       │
  │ Spec Ran:     schema-database.cy.js                                                            │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  security-comprehensive.cy.js                                                   (9 of 10)


  Comprehensive Security and Access Control Tests
    Access Control - Authentication and Authorization
      √ unauthenticated: login router accessible, profile endpoints blocked (1035ms)
      √ after login: profile endpoints accessible (1846ms)
    Rate Limiting - Basic Functionality
      √ should allow first 3 requests within a minute (1491ms)
      √ should block the 4th request and trigger 30-minute cooldown (1848ms)
      √ should maintain separate rate limits per email address (1695ms)
      √ should maintain separate rate limits for login vs signup (2052ms)
    Rate Limiting - UI Integration
      √ should show rate limit error message in UI (2045ms)
      √ should handle rate limit errors gracefully during signup (1435ms)
    Rate Limiting - Admin Controls
      √ should allow viewing current rate limits (1135ms)
      √ should allow clearing rate limits for specific email (1808ms)
      √ should allow clearing all rate limits (1660ms)
    Security - Request Validation
      √ should reject requests without proper email format (963ms)
      √ should handle malicious payloads safely (1297ms)
      √ should prevent CSRF attacks by validating form origin (848ms)


  14 passing (24s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        14                                                                               │
  │ Passing:      14                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     23 seconds                                                                       │
  │ Spec Ran:     security-comprehensive.cy.js                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  settings-functionality.cy.js                                                  (10 of 10)


  Settings Functionality
    Settings Loading and Saving
      √ should test loadSettings function (846ms)
      √ should test saveSettings function (444ms)
      √ should test saveSettings with various settings combinations (762ms)
      √ should test resetSettings function (429ms)
    Theme Management Functions
      √ should test updateThemeOptions function (795ms)
      √ should test loadThemeCSS function with different themes (436ms)
      √ should test theme CSS loading with invalid theme (734ms)
      √ should test theme persistence (427ms)
    Date and Time Functions
      √ should test updateDateExample function (836ms)
      √ should test updateDateExample with different formats (406ms)
    Email Notification Functions
      √ should test toggleEmailSchedule function (718ms)
      √ should test email schedule with different options (431ms)
    Settings Form Integration
      √ should test complete settings workflow (1825ms)
      √ should test settings form validation (451ms)
    Settings Error Handling
      √ should handle network errors during settings save (766ms)
      √ should handle network errors during settings load (465ms)
      √ should handle malformed settings data (730ms)
    Settings Performance
      √ should test settings save performance (456ms)
      √ should test theme loading performance (745ms)
    Settings Unit Integration
      √ should test weight unit changes update dashboard (475ms)
      √ should test height unit changes update dashboard (717ms)


  21 passing (16s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        21                                                                               │
  │ Passing:      21                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        false                                                                            │
  │ Duration:     16 seconds                                                                       │
  │ Spec Ran:     settings-functionality.cy.js                                                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


====================================================================================================

  (Run Finished)


       Spec                                              Tests  Passing  Failing  Pending  Skipped  
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖  phase3-goals-achievements.cy.js          00:16       23        -        1        -       22 │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  phase4-total-progress.cy.js              02:20       22       19        3        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  quick-function-coverage.cy.js            00:06        3        3        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  rapid-coverage-boost.cy.js               00:10        4        4        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  remaining-functions-coverage.cy.js       00:09        4        4        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  remaining-uncovered-functions.cy.js      00:24        4        4        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  reworked-tests.cy.js                     01:07       19       19        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  schema-database.cy.js                    00:33        8        8        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  security-comprehensive.cy.js             00:23       14       14        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  settings-functionality.cy.js             00:16       21       21        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✖  2 of 10 failed (20%)                     05:49      122       96        4        -       22  

